<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Â¡Sorpresa de CumpleaÃ±os!</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style type="text/css">
  /*<![CDATA[*/
    body { margin:0; font-family: Arial, sans-serif;
      background: radial-gradient(circle at top, #1f2244, #0f1020);
      color:#f8f8ff; text-align:center; }
    h1 { margin:20px 0 8px; }
    .sub { opacity:.85; margin-bottom:20px; }

    .gift { width:300px; margin:40px auto; perspective:1200px; }
    .card { position:relative; width:100%; padding-top:130%;
      transform-style:preserve-3d; transition:transform .9s ease;
      border-radius:20px; cursor:pointer; }
    .card.is-flipped { transform:rotateY(180deg); }
    .face { position:absolute; inset:0; border-radius:20px;
      backface-visibility:hidden; display:flex; align-items:center; justify-content:center; background:#181a39; }
    .back { transform:rotateY(180deg); background:#000; }
    .back video { width:100%; height:100%; }

    /* Overlay temporizador */
    .overlay { position:fixed; inset:0; display:flex;
      flex-direction:column; align-items:center; justify-content:center;
      background:rgba(0,0,0,.85); z-index:10; color:#fff; text-align:center; }
    .timerNum { font-size:64px; font-weight:bold; }
    .timerMsg { margin-top:10px; font-size:18px; }
    .gifBox { margin-top:15px; }
    .gifBox img { max-width:200px; border-radius:10px; box-shadow:0 0 12px rgba(255,255,255,.4); }

    .footer { position:fixed; bottom:8px; width:100%; font-size:12px; opacity:.6; }
  /*]]>*/
  </style>
</head>
<body>
  <h1>ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ’ğŸ’ğŸ’ Â¡tu regalo, Amor!ğŸ’ğŸ’ğŸ’ ğŸğŸğŸğŸ</h1>
  <p id="subtitle" class="sub">Debes esperar un poco antes de abrirloâ€¦ ğŸ˜‰</p>

  <div class="gift">
    <div id="card" class="card">
      <div class="face front"><span style="font-size:48px;">ğŸ</span></div>
      <div class="face back">
        <video id="revealVideo" controls="controls" poster="img/regalo.jpg">
          <source src="video/regalo.mp4" type="video/mp4" />
        </video>
      </div>
    </div>
  </div>

  <p id="message"></p>
  <div class="footer">Hecho con ğŸ’ para un cumpleaÃ±os inolvidable</div>

  <!-- Overlay temporizador -->
  <div id="overlay" class="overlay">
    <div class="timerNum" id="timerNum">1000</div>
    <div class="timerMsg" id="timerMsg">Los regalos se desbloquearÃ¡n prontoâ€¦</div>
   <div class="gifBox">
  <img id="gifImg" src="gifs/30x6.gif" alt="" />
</div>
  </div>

  <script type="text/javascript">
  //<![CDATA[
    (function(){
      var picked=false;
      var card=document.getElementById('card');
      var msg=document.getElementById('message');
      var overlay=document.getElementById('overlay');
      var timerNum=document.getElementById('timerNum');
      var timerMsg=document.getElementById('timerMsg');
      var gifImg=document.getElementById('gifImg');
      var video=document.getElementById('revealVideo');
      var subtitle=document.getElementById('subtitle');

     var gifs=[
  "gifs/gif1.gif",
  "gifs/gif3.gif",
  "gifs/gif4.gif"
  "gifs/gif2.gif"
];
      var gifIndex=0;

      // === Broma inicial ===
      var t=1000; var prank=true;
      timerNum.textContent=t;
      var iv=setInterval(function(){
        t--; timerNum.textContent=t;
        if(prank && t<=995){
          clearInterval(iv);
          timerMsg.textContent="ğŸ˜œ Era broma... ahora sÃ­ de verdad";
          setTimeout(startRealCountdown,2000);
        }
      },1000);

      function startRealCountdown(){
        prank=false;
        var real=15;
        timerNum.textContent=real;
        timerMsg.textContent="Cuenta regresiva.............:";
        changeGif();
        iv=setInterval(function(){
          real--; timerNum.textContent=real;
          if(real%3===0){ changeGif(); }
          if(real<=0){ clearInterval(iv); unlock(); }
        },1000);
      }

      function changeGif(){
        gifImg.src=gifs[gifIndex];
        gifIndex=(gifIndex+1)%gifs.length;
      }

      function unlock(){
        overlay.style.display='none';
        subtitle.textContent="Ya puedes abrir tu regalo Amor ğŸ";
      }

      function flipAndReveal(){
        if(picked || card.className.indexOf('is-flipped')!==-1) return;
        card.className+=' is-flipped';
        picked=true;
        msg.textContent='ğŸŠ Â¡Sorpresa ! a ğŸ’';
        if(video){ try{ video.play(); }catch(e){} }
      }
      card.addEventListener('click',flipAndReveal,false);
    })();
  //]]>
  </script>
</body>
</html>


